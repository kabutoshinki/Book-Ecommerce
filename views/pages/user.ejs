<div>
  <div class="d-flex justify-content-between align-content-center my-3">
    <h1 class="text-muted">List of Users</h1>
  </div>
  <div class="container">
    <table class="table table-hover" style="cursor: pointer">
      <thead class="table-info rounded-top">
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Image</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Status</th>
          <th scope="col">Created At</th>
          <th scope="col">Updated At</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody class="align-middle">
        <% users.forEach(user => { %>
        <tr>
          <td>
            <p
              class="text-truncate"
              style="max-width: 150px"
              title="<%= user.id %>"
            >
              <%= user.id%>
            </p>
          </td>
          <td>
            <img src="<%= user.avatar%>" style="width: 40px; height: 40px" />
          </td>
          <td>
            <p
              class="text-truncate"
              style="max-width: 150px"
              title="<%= user.firstName + ' ' + user.lastName %>"
            >
              <%= user.firstName + ' ' + user.lastName %>
            </p>
          </td>
          <td>
            <p
              class="text-truncate"
              style="max-width: 150px"
              title="<%= user.email %>"
            >
              <%= user.email %>
            </p>
          </td>
          <td>
            <% if (user.isActive === true) { %>
            <span class="badge bg-success">Active</span>
            <% } else { %>
            <span class="badge bg-secondary">Inactive</span>
            <% } %>
          </td>
          <td>
            <p
              class="text-truncate"
              style="max-width: 150px"
              title="<%= user.created_at %>"
            >
              <%= user.created_at %>
            </p>
          </td>
          <td>
            <p
              class="text-truncate"
              style="max-width: 150px"
              title="<%= user.updated_at %>"
            >
              <%= user.updated_at %>
            </p>
          </td>

          <td>
            <button
              type="button"
              class="btn btn-info"
              data-bs-toggle="modal"
              data-bs-target="#viewUserModal_<%= user.id %>"
            >
              <i class="lni lni-eye text-white"></i>
            </button>
            <button
              type="button"
              class="<%= user.isActive!==true? 'btn btn-success ':'btn btn-secondary disabled ' %>"
              data-bs-toggle="modal"
              data-bs-target="#stateUserModal_<%= user.id %>"
            >
              <i class="lni lni-checkmark"></i>
            </button>
            <button
              type="button"
              class="<%= user.isActive===true? 'btn btn-danger ':'btn btn-secondary disabled ' %>"
              data-bs-toggle="modal"
              data-bs-target="#stateUserModal_<%= user.id %>"
            >
              <i class="lni lni-close"></i>
            </button>
          </td>
        </tr>
        <%- include('../modals/user/view_user.ejs', { user }) %> <%-
        include('../modals/user/update_state_user.ejs', { user }) %> <% }) %>
      </tbody>
    </table>
    <%-include('../partials/pagination.ejs')%>
  </div>
</div>
